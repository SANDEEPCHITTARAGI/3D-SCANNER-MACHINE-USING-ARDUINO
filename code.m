% Parse distance data (in cm)
distance_data = [198, 198, 7, 198, 7, 198, 198, 198, 198, 198, 198, 198, ...
                 198, 198, 198, 198, 198, 198, 198, 198, 199, 198, 198, ...
                 198, 198, 198, 198, 198, 198, 198, 199, 198, 198, 7, ...
                 198, 199, 7, 7, 7, 198, 199, 198, 198, 198, 198, 198, ...
                 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, ...
                 7, 198, 198, 7, 198, 198, 199, 7, 7, 198, 198, 7, 198, ...
                 198, 7, 198, 198, 198, 198, 198, 198, 198, 198, 198, ...
                 198, 198, 198, 198, 198, 198, 198, 198, 198, 7, 7, 7, ...
                 198, 198, 7, 7, 7, 7, 7, 7, 7, 198, 7, 7, 7, 7, 7, ...
                 7, 7, 7, 198, 198, 7, 7, 198, 198, 198, 198, 7, 7, 7, ...
                 198, 198, 198, 7, 7, 7, 7, 198, 7, 7, 7, 198, 198, 7, ...
                 7, 7, 198, 7, 7, 7, 198, 198, 7, 7, 7, 198, 199, 7, 7, ...
                 7, 198, 8, 7, 198, 198, 7, 7, 7, 198, 7, 7, 7, 7, 198, ...
                 7, 7, 7, 198, 7, 7, 7, 7, 198, 8, 7, 8, 7, 7, 8, 198, ...
                 7, 7, 198, 199, 199, 199, 198, 198, 198, 198, 198, 198, ...
                 199, 198, 198, 7, 198, 198, 199, 7, 7, 198, 198, 7, 7, ...
                 7, 7, 198, 199, 198, 199, 7, 7, 7, 198, 198, 7, 7, 7, ...
                 198, 198, 198, 7, 7, 198, 198, 198, 198, 198, 198, 7, ...
                 198, 7, 198, 198, 198, 198, 198, 198, 198, 7];

% Define grid size (e.g., 15x15 points for simplicity)
grid_size = 15; % Adjust based on data size and sensor sweep pattern
[X, Y] = meshgrid(1:grid_size, 1:grid_size);

% Map distance data to grid (reshape as needed)
Z = reshape(distance_data(1:numel(X)), size(X)); % Use available data

% Plot the 3D surface
figure;
surf(X, Y, Z, 'EdgeColor', 'none'); % Create a 3D surface plot
colormap(jet); % Apply color mapping
colorbar; % Add colorbar to show depth values
xlabel('X-Axis (Sensor Position)');
ylabel('Y-Axis (Sensor Sweep)');
zlabel('Z-Axis (Distance in cm)');
title('3D Model Visualization from IR Sensor Data');
axis tight;
grid on;
